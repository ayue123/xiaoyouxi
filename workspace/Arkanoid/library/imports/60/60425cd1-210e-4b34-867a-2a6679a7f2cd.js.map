{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\view/assets\\scripts\\view\\OverPanel.js"],"names":["GameModel","require","cc","Class","extends","Component","properties","resultLabel","Label","scoreLabel","onLoad","init","gameCtl","node","active","show","score","isWin","level","string","showReBegin","life","updateGameModel","gameModel","onBtnRestart","surviveBricksNumber","reStartGame","isLevelOver","initLevelPosition","reInitLevelPosition","startGame"],"mappings":";;;;;;AAAA;;;;;;AAMA,IAAMA,YAAYC,QAAQ,WAAR,CAAlB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAaL,GAAGM,KADR;AAERC,oBAAYP,GAAGM;AAFP,KAHP;;AAQL;AACAE,YAAQ,kBAAY,CACnB,CAVI;;AAYLC,QAZK,gBAYAC,OAZA,EAYS;AACV,aAAKA,OAAL,GAAeA,OAAf;AACA,aAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH,KAfI;;AAgBL;AACAC,QAjBK,gBAiBAC,KAjBA,EAiBOC,KAjBP,EAiBcC,KAjBd,EAiBqB;AACtB,aAAKL,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,YAAIG,KAAJ,EAAW;AACP,iBAAKV,WAAL,CAAiBY,MAAjB,GAA0B,QAA1B;AACH,SAFD,MAEO;AACH,iBAAKZ,WAAL,CAAiBY,MAAjB,GAA0B,OAA1B;AACH;AACD,aAAKV,UAAL,CAAgBU,MAAhB,GAAyB,WAAWH,KAApC;AACH,KAzBI;;AA0BL;AACAI,eA3BK,uBA2BOJ,KA3BP,EA2BcK,IA3Bd,EA2BoBH,KA3BpB,EA2B2B;AAC5B,aAAKL,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,aAAKP,WAAL,CAAiBY,MAAjB,GAA0B,UAAUE,IAApC;AACA,aAAKZ,UAAL,CAAgBU,MAAhB,GAAyB,WAAWH,KAAX,GAAmB,IAAnB,GAA0B,SAA1B,GAAsCE,KAA/D;AACH,KA/BI;AAiCLI,mBAjCK,2BAiCWC,SAjCX,EAiCsB;AACvB,aAAKA,SAAL,GAAiBA,SAAjB;AACH,KAnCI;;;AAqCL;AACAC,gBAtCK,0BAsCU;AACX,YAAI,KAAKD,SAAL,CAAeF,IAAf,GAAsB,CAAtB,IAA2B,KAAKE,SAAL,CAAeE,mBAAf,GAAqC,CAApE,EAAuE;AACnE,iBAAKb,OAAL,CAAac,WAAb;AACH,SAFD,MAEO,IAAI,KAAKH,SAAL,CAAeF,IAAf,GAAsB,CAAtB,IAA2B,KAAKE,SAAL,CAAeE,mBAAf,IAAsC,CAArE,EAAwE;AAC3E,gBAAIE,cAAc,KAAKJ,SAAL,CAAeK,iBAAf,EAAlB;AACA,gBAAID,eAAe,IAAnB,EAAyB;AACrB,qBAAKf,OAAL,CAAac,WAAb;AACA,qBAAKd,OAAL,CAAaiB,mBAAb;AACH,aAHD,MAGO;AACH,qBAAKjB,OAAL,CAAakB,SAAb;AACH;AACJ,SARM,MAQA;AACH,iBAAKlB,OAAL,CAAakB,SAAb;AACH;AACJ;AApDI,CAAT","file":"OverPanel.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\view","sourcesContent":["/*\r\n * @Author: ayue \r\n * @Date: 2019-03-30 20:20:24 \r\n * @Last Modified by:   ayue \r\n * @Last Modified time: 2019-03-30 20:20:24 \r\n */\r\nconst GameModel = require('GameModel');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        resultLabel: cc.Label,\r\n        scoreLabel: cc.Label,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n    },\r\n\r\n    init(gameCtl) {\r\n        this.gameCtl = gameCtl;\r\n        this.node.active = false;\r\n    },\r\n    //机会用尽展示界面\r\n    show(score, isWin, level) {\r\n        this.node.active = true;\r\n        if (isWin) {\r\n            this.resultLabel.string = '开始下一关!';\r\n        } else {\r\n            this.resultLabel.string = '重新开始!';\r\n        }\r\n        this.scoreLabel.string = \"score:\" + score;\r\n    },\r\n    //每一关结束展示界面\r\n    showReBegin(score, life, level) {\r\n        this.node.active = true;\r\n        this.resultLabel.string = 'life:' + life;\r\n        this.scoreLabel.string = 'score:' + score + \"\\n\" + \" level:\" + level;\r\n    },\r\n\r\n    updateGameModel(gameModel) {\r\n        this.gameModel = gameModel;\r\n    },\r\n\r\n    //展示界面点击处理逻辑\r\n    onBtnRestart() {\r\n        if (this.gameModel.life > 0 && this.gameModel.surviveBricksNumber > 0) {\r\n            this.gameCtl.reStartGame();\r\n        } else if (this.gameModel.life > 0 && this.gameModel.surviveBricksNumber <= 0) {\r\n            var isLevelOver = this.gameModel.initLevelPosition();\r\n            if (isLevelOver != 9999) {\r\n                this.gameCtl.reStartGame();\r\n                this.gameCtl.reInitLevelPosition();\r\n            } else {\r\n                this.gameCtl.startGame();\r\n            }\r\n        } else {\r\n            this.gameCtl.startGame();\r\n        }\r\n    },\r\n});\r\n"]}