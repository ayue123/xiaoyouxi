{"version":3,"sources":["OverPanel.js"],"names":["GameModel","require","cc","Class","extends","Component","properties","resultLabel","Label","scoreLabel","onLoad","init","gameCtl","node","active","show","score","isWin","level","string","banner","showReBegin","life","updateGameModel","gameModel","onBtnRestart","surviveBricksNumber","reStartGame","isLevelOver","initLevelPosition","reInitLevelPosition","startGame"],"mappings":";;;;;;AAAA;;;;;;AAMA,IAAMA,YAAYC,QAAQ,WAAR,CAAlB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAaL,GAAGM,KADR;AAERC,oBAAYP,GAAGM;AAFP,KAHP;;AAQL;AACAE,YAAQ,kBAAY,CACnB,CAVI;;AAYLC,QAZK,gBAYAC,OAZA,EAYS;AACV,aAAKA,OAAL,GAAeA,OAAf;AACA,aAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH,KAfI;;AAgBL;AACAC,QAjBK,gBAiBAC,KAjBA,EAiBOC,KAjBP,EAiBcC,KAjBd,EAiBqB;AACtB,aAAKL,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,YAAIG,KAAJ,EAAW;AACP,iBAAKV,WAAL,CAAiBY,MAAjB,GAA0B,QAA1B;AACH,SAFD,MAEO;AACH,iBAAKZ,WAAL,CAAiBY,MAAjB,GAA0B,OAA1B;AACH;AACD,aAAKV,UAAL,CAAgBU,MAAhB,GAAyB,WAAWH,KAApC;AACA,aAAKJ,OAAL,CAAaQ,MAAb;AACH,KA1BI;;AA2BL;AACAC,eA5BK,uBA4BOL,KA5BP,EA4BcM,IA5Bd,EA4BoBJ,KA5BpB,EA4B2B;AAC5B,aAAKL,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,aAAKP,WAAL,CAAiBY,MAAjB,GAA0B,UAAUG,IAApC;AACA,aAAKb,UAAL,CAAgBU,MAAhB,GAAyB,WAAWH,KAAX,GAAmB,IAAnB,GAA0B,SAA1B,GAAsCE,KAA/D;AACA,aAAKN,OAAL,CAAaQ,MAAb;AACH,KAjCI;AAmCLG,mBAnCK,2BAmCWC,SAnCX,EAmCsB;AACvB,aAAKA,SAAL,GAAiBA,SAAjB;AACH,KArCI;;;AAuCL;AACAC,gBAxCK,0BAwCU;AACX,YAAI,KAAKD,SAAL,CAAeF,IAAf,GAAsB,CAAtB,IAA2B,KAAKE,SAAL,CAAeE,mBAAf,GAAqC,CAApE,EAAuE;AACnE,iBAAKd,OAAL,CAAae,WAAb;AACH,SAFD,MAEO,IAAI,KAAKH,SAAL,CAAeF,IAAf,GAAsB,CAAtB,IAA2B,KAAKE,SAAL,CAAeE,mBAAf,IAAsC,CAArE,EAAwE;AAC3E,gBAAIE,cAAc,KAAKJ,SAAL,CAAeK,iBAAf,EAAlB;AACA,gBAAID,eAAe,IAAnB,EAAyB;AACrB,qBAAKhB,OAAL,CAAae,WAAb;AACA,qBAAKf,OAAL,CAAakB,mBAAb;AACH,aAHD,MAGO;AACH,qBAAKlB,OAAL,CAAamB,SAAb;AACH;AACJ,SARM,MAQA;AACH,iBAAKnB,OAAL,CAAamB,SAAb;AACH;AACD,aAAKnB,OAAL,CAAaQ,MAAb;AACH;AAvDI,CAAT","file":"OverPanel.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\view","sourcesContent":["/*\r\n * @Author: ayue \r\n * @Date: 2019-03-30 20:20:24 \r\n * @Last Modified by: ayue\r\n * @Last Modified time: 2019-06-14 14:46:34\r\n */\r\nconst GameModel = require('GameModel');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        resultLabel: cc.Label,\r\n        scoreLabel: cc.Label,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n    },\r\n\r\n    init(gameCtl) {\r\n        this.gameCtl = gameCtl;\r\n        this.node.active = false;\r\n    },\r\n    //机会用尽展示界面\r\n    show(score, isWin, level) {\r\n        this.node.active = true;\r\n        if (isWin) {\r\n            this.resultLabel.string = '开始下一关!';\r\n        } else {\r\n            this.resultLabel.string = '重新开始!';\r\n        }\r\n        this.scoreLabel.string = \"score:\" + score;\r\n        this.gameCtl.banner();\r\n    },\r\n    //每一关结束展示界面\r\n    showReBegin(score, life, level) {\r\n        this.node.active = true;\r\n        this.resultLabel.string = 'life:' + life;\r\n        this.scoreLabel.string = 'score:' + score + \"\\n\" + \" level:\" + level;\r\n        this.gameCtl.banner();\r\n    },\r\n\r\n    updateGameModel(gameModel) {\r\n        this.gameModel = gameModel;\r\n    },\r\n\r\n    //展示界面点击处理逻辑\r\n    onBtnRestart() {\r\n        if (this.gameModel.life > 0 && this.gameModel.surviveBricksNumber > 0) {\r\n            this.gameCtl.reStartGame();\r\n        } else if (this.gameModel.life > 0 && this.gameModel.surviveBricksNumber <= 0) {\r\n            var isLevelOver = this.gameModel.initLevelPosition();\r\n            if (isLevelOver != 9999) {\r\n                this.gameCtl.reStartGame();\r\n                this.gameCtl.reInitLevelPosition();\r\n            } else {\r\n                this.gameCtl.startGame();\r\n            }\r\n        } else {\r\n            this.gameCtl.startGame();\r\n        }\r\n        this.gameCtl.banner();\r\n    },\r\n  \r\n});\r\n"]}