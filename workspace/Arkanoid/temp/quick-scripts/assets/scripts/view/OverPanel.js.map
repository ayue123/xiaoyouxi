{"version":3,"sources":["OverPanel.js"],"names":["GameModel","require","cc","Class","extends","Component","properties","resultLabel","Label","scoreLabel","onLoad","init","gameCtl","node","active","show","score","isWin","level","string","showReBegin","life","updateGameModel","gameModel","onBtnRestart","surviveBricksNumber","reStartGame","isLevelOver","initLevelPosition","reInitLevelPosition","startGame"],"mappings":";;;;;;AAAA,IAAMA,YAAYC,QAAQ,WAAR,CAAlB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAYL,GAAGM,KADP;AAERC,oBAAWP,GAAGM;AAFN,KAHP;;AAQL;AACAE,YAAQ,kBAAY,CACnB,CAVI;;AAYLC,QAZK,gBAYAC,OAZA,EAYQ;AACT,aAAKA,OAAL,GAAeA,OAAf;AACA,aAAKC,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH,KAfI;;AAgBL;AACAC,QAjBK,gBAiBAC,KAjBA,EAiBMC,KAjBN,EAiBYC,KAjBZ,EAiBkB;AACnB,aAAKL,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,YAAGG,KAAH,EAAS;AACL,iBAAKV,WAAL,CAAiBY,MAAjB,GAA0B,QAA1B;AACH,SAFD,MAEK;AACD,iBAAKZ,WAAL,CAAiBY,MAAjB,GAA0B,OAA1B;AACH;AACD,aAAKV,UAAL,CAAgBU,MAAhB,GAAyB,WAASH,KAAlC;AACH,KAzBI;;AA0BL;AACAI,eA3BK,uBA2BOJ,KA3BP,EA2BaK,IA3Bb,EA2BkBH,KA3BlB,EA2BwB;AACzB,aAAKL,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,aAAKP,WAAL,CAAiBY,MAAjB,GAA0B,UAAQE,IAAlC;AACA,aAAKZ,UAAL,CAAgBU,MAAhB,GAAyB,WAASH,KAAT,GAAe,IAAf,GAAoB,SAApB,GAA8BE,KAAvD;AACH,KA/BI;AAiCLI,mBAjCK,2BAiCWC,SAjCX,EAiCqB;AACtB,aAAKA,SAAL,GAAiBA,SAAjB;AACH,KAnCI;;;AAqCL;AACAC,gBAtCK,0BAsCS;AACV,YAAG,KAAKD,SAAL,CAAeF,IAAf,GAAoB,CAApB,IAAwB,KAAKE,SAAL,CAAeE,mBAAf,GAAqC,CAAhE,EAAkE;AAC9D,iBAAKb,OAAL,CAAac,WAAb;AACH,SAFD,MAEM,IAAG,KAAKH,SAAL,CAAeF,IAAf,GAAoB,CAApB,IAAwB,KAAKE,SAAL,CAAeE,mBAAf,IAAsC,CAAjE,EAAmE;AACrE,gBAAIE,cAAc,KAAKJ,SAAL,CAAeK,iBAAf,EAAlB;AACA,gBAAGD,eAAa,IAAhB,EAAqB;AACjB,qBAAKf,OAAL,CAAac,WAAb;AACA,qBAAKd,OAAL,CAAaiB,mBAAb;AACH,aAHD,MAGM;AACF,qBAAKjB,OAAL,CAAakB,SAAb;AACH;AACJ,SARK,MAQA;AACF,iBAAKlB,OAAL,CAAakB,SAAb;AACH;AACJ;AApDI,CAAT","file":"OverPanel.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\view","sourcesContent":["const GameModel = require('GameModel');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        resultLabel:cc.Label,\r\n        scoreLabel:cc.Label,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n    },\r\n\r\n    init(gameCtl){\r\n        this.gameCtl = gameCtl;\r\n        this.node.active = false;\r\n    },\r\n    //机会用尽展示界面\r\n    show(score,isWin,level){\r\n        this.node.active = true;\r\n        if(isWin){\r\n            this.resultLabel.string = '开始下一关!';\r\n        }else{\r\n            this.resultLabel.string = '重新开始!';\r\n        }\r\n        this.scoreLabel.string = \"score:\"+score;\r\n    },\r\n    //每一关结束展示界面\r\n    showReBegin(score,life,level){\r\n        this.node.active = true;\r\n        this.resultLabel.string = 'life:'+life;\r\n        this.scoreLabel.string = 'score:'+score+\"\\n\"+\" level:\"+level;\r\n    },\r\n\r\n    updateGameModel(gameModel){\r\n        this.gameModel = gameModel;\r\n    },\r\n\r\n    //展示界面点击处理逻辑\r\n    onBtnRestart(){\r\n        if(this.gameModel.life>0&& this.gameModel.surviveBricksNumber > 0){\r\n            this.gameCtl.reStartGame();\r\n        }else if(this.gameModel.life>0&& this.gameModel.surviveBricksNumber <= 0){\r\n            var isLevelOver = this.gameModel.initLevelPosition();\r\n            if(isLevelOver!=9999){\r\n                this.gameCtl.reStartGame();\r\n                this.gameCtl.reInitLevelPosition();\r\n            }else {\r\n                this.gameCtl.startGame();\r\n            }\r\n        } else{\r\n            this.gameCtl.startGame();\r\n        }\r\n    },\r\n});\r\n"]}